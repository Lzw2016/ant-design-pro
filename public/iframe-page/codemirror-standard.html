<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="utf-8" />
  <title>highlight</title>
  <link rel="icon" href="/favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="codemirror/lib/codemirror.css">
  <link rel="stylesheet" href="codemirror/addon/fold/foldgutter.css">
  <link rel="stylesheet" href="codemirror/addon/dialog/dialog.css">
  <link rel="stylesheet" href="codemirror/theme/monokai.css">
  <!-- <link rel="stylesheet" href="codemirror/theme/dracula.css"> -->
  <style>
    .code-mirror-editor {
      width: 100%;
      height: 100%;
      position: absolute;
      left: 0;
      top: 0;
    }

    .CodeMirror {
      font-family: Consolas, "Courier New", monospace;
      font-weight: normal;
      font-size: 14px;
      line-height: 19px;
      letter-spacing: 0px;
    }

    .CodeMirror pre {
      font-family: Consolas, "Courier New", monospace;
      font-weight: normal;
      font-size: 14px;
      line-height: 19px;
      letter-spacing: 0px;
    }

    .CodeMirror pre {
      padding: 0 4px 0 8px;
    }

    .CodeMirror-linenumber {
      padding: 0 5px 0 5px;
      border-right: 1px solid #CCC;
    }
  </style>
</head>

<body style="margin: 0;">
  <div id="code-editor" class="code-mirror-editor"></div>
</body>

<script type="text/javascript" src="codemirror/lib/codemirror.js"></script>
<script type="text/javascript" src="codemirror/addon/search/searchcursor.js"></script>
<script type="text/javascript" src="codemirror/addon/search/search.js"></script>
<script type="text/javascript" src="codemirror/addon/dialog/dialog.js"></script>
<script type="text/javascript" src="codemirror/addon/edit/matchbrackets.js"></script>
<script type="text/javascript" src="codemirror/addon/edit/closebrackets.js"></script>
<script type="text/javascript" src="codemirror/addon/comment/comment.js"></script>
<script type="text/javascript" src="codemirror/addon/wrap/hardwrap.js"></script>
<script type="text/javascript" src="codemirror/addon/fold/foldcode.js"></script>
<script type="text/javascript" src="codemirror/addon/fold/brace-fold.js"></script>
<script type="text/javascript" src="codemirror/mode/javascript/javascript.js"></script>
<script type="text/javascript" src="codemirror/keymap/sublime.js"></script>

<script type="text/javascript">
  var value = "// The bindings defined specifically in the Sublime Text mode\nvar bindings = {\n";
  var map = CodeMirror.keyMap.sublime;
  for (var key in map) {
    var val = map[key];
    if (key != "fallthrough" && val != "..." && (!/find/.test(val) || /findUnder/.test(val)))
      value += "  \"" + key + "\": \"" + val + "\",\n";
  }
  value += "}\n\n// The implementation of joinLines\n";
  value += CodeMirror.commands.joinLines.toString().replace(/^function\s*\(/, "function joinLines(").replace(/\n  /g, "\n") + "\n";

  // 初始化编辑器
  var editor = CodeMirror(document.getElementById('code-editor'), {
    lineNumbers: true,
    matchBrackets: true,
    styleActiveLine: true,
    indentUnit: 2,
    smartIndent: true,
    autoCloseBrackets: true,
    readOnly: false,
    keyMap: "sublime",
    theme: "monokai",
    value: value,
    mode: "javascript"
  });
  editor.setSize("100%", "100%");
</script>

</html>
